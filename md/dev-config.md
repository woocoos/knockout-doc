---
id: dev-config
---

# 开发配置

在开始开发前,需要了解一些程序设定.

## 缓存

Knockout 使用了 ent 和 gengql 缓存,我们可以使用 entcache,根据实际情况确定缓存方式.

根据[entcache 文档](https://github.com/woocoos/entcache)配置.

- 基本 Http Request 缓存.

- 数据库级查询缓存

# 数据删除

本项目对数据删除做一定的保护.主要的处理机制如下:

- 通过软删除机制,对于删除的数据,不会真正删除,而是将数据的状态设置为删除状态,并且不会再查询出来.
- 对于从表数据,不设置外键,在主表数据软删除时,只会清除主从数据关系字段,不会真正的删除从表数据,但会导致数据关系是脱钩.需要通过数据操作日志或归档来找录原始数据.

注意事项:

具有软删除操作的表数据验证,利用数据库级验证是不可行的,需要在业务层面做验证.

典型的场景: 用户删除
