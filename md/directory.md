---
id: directory
---

# 目录

目录是企业可管理的软硬件资源的目录结构,这点和活动目录(Active Directory)的管理方式是类似的,但类型更为少,不同资源的管理有不同的复杂度,分为几类型

- 组织: 企业的组织结构.
- App: 如钉钉上的应用即可视为一种资源.

对于每一个注册账户,当需要企业级管理需求时,需要创建目录结构.将产生树型结构的目录树.

## 组织资源

## App 资源

应用资源是企业资源分配的重要场景. 主要包括基本信息,功能菜单,操作等信息

如 A 企业有上海,厦门分公司.需要采购 WMS 来管理物流仓储业务,在企业组织下该业务是归属上海分公司,厦门分公司不涉及.

要区分上海分公司与 WMS App 的关系有如下方式

1. App 资源显示分配给上海分公司.
2. App 资源定义角色,将角色分配与上海分公司员工,即代表应用的分配

第二种方式需要有较高级别的权限才可做到,不利于分权管理.因此采用第一种显示方式处理.

在各企业会创建私有 App 资源,但未来仍然后有公开的可能性,因此即使是私有 App 资源,也会统一归入应用管理中,需要符合应用管理要求,如有唯一的标识等.

### 应用角色

### 应用资源

应用资源代表着应用的组成.

- 操作: 如 API 接口,用于是否具有该操作的权限,
- 数据: 常见的就是文件,数据库数据等.

对于接口和数据都可以使用 URI 格式来表达. 由于接口代表着操作,与数据有较明显的区别,因此我们在元数据中,也是将接口和数据这两种资源也是分开定义的.

#### 操作资源(action)

#### 数据资源(resource)

文件类的可自然的处理 URI 格式如: /dir/subdir/fileName

而类似数据库的数据,我们一般选择主数据做为权限控制入口,对于数据库我们可知通过数据库->数据表->主键即可定位到具体的一行数据.数据库及数据表可合并为数据类型(DataType)

这样可定义应用资源名称(ARN):{应用名称}:{账户 ID}:{资源名称}:{计算表达式(字段/字段值表达式)},类似如下例子:

| 应用名称 | 账户 ID | URI                        | ARN                                          |
| -------- | ------- | -------------------------- | -------------------------------------------- |
| 文件应用 | 1000    | /root/document/desktop.png | file:1000:/root/document/desktop.png         |
| 订单应用 | 1000    | order/202201010001         | ord:1000:order:order_id/202201010001         |
| 订单应用 | 1000    | order 日期大于 2023.01.01  | ord:1000:order:order_date/>2023.01.01:kind/1 |

> 目前支持的操作符: =(默认不写)

### 策略
